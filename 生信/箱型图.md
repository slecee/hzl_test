### 箱型图

### 对于图像而言，更重要的是数据处理

对于转录组和代谢组均是每组样本过少，而检测出的物质会很多

1. 简单箱型图
2. 加t检验
3. 配对t检验
4. 多组
5. 加小提琴图与点

#### 1.简单箱型图
拿到整洁的数据后，可以先做箱型图，对数据有个大致的了解
箱型图的图像是剔除离群值后的
最小值(mimimum)、第一四分位数(1st quartile)、中位数(median)、第三四分位数(3rd quartile)、最大值(maximum)
如有离群值则画出小圆点表示
离群值：IQR = Q3-Q1  最小异常值Q1-k(Q3-Q1) 最大异常值Q3+k(Q3-Q1) 一般是1.5 
比如:
```r
# 数据处理，统计分析之后，出图优先出箱型图与小提琴图（代谢组内对样本数量有一定要求）
# 可以对物质有个大致了解，比如最小值最大值具体分布等等。

# 第二类图是热图与火山图
# 第三类富集与通路分析
# 第四类组学与组学之间的相关性图

boxplot <- boxplot(Boston$crim,outline = T,log= "y")
boxplot$stats #什么含义？？？
# 数据除离群值之外的最小值，最大值
# geom_boxplot是必须要分类的，可以想一下，基于此想一下，箱型图的意义。
summary(Boston$crim)
#  Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
# 0.00632  0.08204  0.25651  3.61352  3.67708 88.97620 

# R中quantile函数的分位数的算法 y=p*(n-1)+1
# 以1-10为例，20%分位数为例，首先位数=1+(10-1)*20%=2.8，所以此分位数在
# 第二和第三个数之间，更靠近第三个数(2<2.8<3)，算法：2*0.2+3*0.8=2.8，

sifeiwei <- quantile(Boston$crim, probs = c(0.25,0.75), na.rm = T)
#   25%      75%    
#  0.082045 3.677083 
row_max <- sifeiwei[[2]] + 1.5 * (sifeiwei[[2]] - sifeiwei[[1]]) # 常用为1.5,更宽松一点可以设为3
# 9.069639
row_min <- sifeiwei[[1]] - 1.5 * (sifeiwei[[2]] - sifeiwei[[1]])
# -5.310511

a <- c(-100,-1,-10,-2,5,9,13,1,1,3,5,7,9,11,28,34,56,76,44,65,87,45,43,23,78)
boxplot1 <- boxplot(a)
boxplot1$stats 
# 数据除离群值之外的最小值，最大值
```


针对整体画箱型图用boxplot
同一个物质，所有样本的箱型图（没有必要，后续肯定是针对差异代谢物/基因进行分组绘图）
同一个样本，所有物质的箱型图（没有什么实际意义，检测出的物质的大致分布？）
所以还是用ggplot2去画分组的箱型图
```r
library(tidyverse)
library(openxlsx)
# boxplot(iris)

# 转录组学
data_1 = read.xlsx('',sheet = 2,colNames = T, rowNames = F)

# 代谢组学


```